; NOTE: Assertions have been autogenerated by utils/update_test_checks.py UTC_ARGS: --version 4
; RUN: opt -S -mtriple=riscv32-esp-unknown-elf -passes=riscv-int-loop-unroll-and-remainder -riscv-int-loop-unroll-and-remainder=true < %s | FileCheck %s
; Function Attrs: nofree norecurse nosync nounwind memory(argmem: readwrite)
define dso_local noundef i32 @dspm_mult_s16_ansi(ptr nocapture noundef readonly %A, ptr nocapture noundef readonly %B, ptr nocapture noundef writeonly %C, i32 noundef %m, i32 noundef %n, i32 noundef %k, i32 noundef %shift) local_unnamed_addr {
; CHECK-LABEL: define dso_local noundef i32 @dspm_mult_s16_ansi(
; CHECK-SAME: ptr noalias noundef readonly captures(none) [[A:%.*]], ptr noalias noundef readonly captures(none) [[B:%.*]], ptr noalias noundef writeonly captures(none) [[C:%.*]], i32 noundef [[M:%.*]], i32 noundef [[N:%.*]], i32 noundef [[K:%.*]], i32 noundef [[SHIFT:%.*]]) local_unnamed_addr {
; CHECK-NEXT:  entry:
; CHECK-NEXT:    [[CMP63:%.*]] = icmp sgt i32 [[M]], 0
; CHECK-NEXT:    br i1 [[CMP63]], label [[FOR_COND1_PREHEADER_LR_PH:%.*]], label [[FOR_COND_CLEANUP:%.*]]
; CHECK:       for.cond1.preheader.lr.ph:
; CHECK-NEXT:    [[SUB:%.*]] = add nsw i32 [[SHIFT]], -15
; CHECK-NEXT:    [[CMP261:%.*]] = icmp sgt i32 [[K]], 0
; CHECK-NEXT:    [[SHR:%.*]] = lshr i32 32767, [[SHIFT]]
; CHECK-NEXT:    [[CONV:%.*]] = zext nneg i32 [[SHR]] to i64
; CHECK-NEXT:    [[SUB6:%.*]] = add nsw i32 [[N]], -7
; CHECK-NEXT:    [[TMP0:%.*]] = and i32 [[N]], -8
; CHECK-NEXT:    [[CMP658:%.*]] = icmp sgt i32 [[N]], 7
; CHECK-NEXT:    [[CMP18:%.*]] = icmp sgt i32 [[SHIFT]], 15
; CHECK-NEXT:    [[SUB24:%.*]] = sub nsw i32 15, [[SHIFT]]
; CHECK-NEXT:    [[SH_PROM25:%.*]] = zext nneg i32 [[SUB24]] to i64
; CHECK-NEXT:    [[SH_PROM:%.*]] = zext nneg i32 [[SUB]] to i64
; CHECK-NEXT:    br label [[FOR_COND1_PREHEADER:%.*]]
; CHECK:       for.cond1.preheader:
; CHECK-NEXT:    [[I_064:%.*]] = phi i32 [ 0, [[FOR_COND1_PREHEADER_LR_PH]] ], [ [[INC35:%.*]], [[FOR_COND_CLEANUP3:%.*]] ]
; CHECK-NEXT:    br i1 [[CMP261]], label [[FOR_BODY4_LR_PH:%.*]], label [[FOR_COND_CLEANUP3]]
; CHECK:       for.body4.lr.ph:
; CHECK-NEXT:    [[MUL:%.*]] = mul nsw i32 [[I_064]], [[N]]
; CHECK-NEXT:    [[TMP1:%.*]] = getelementptr i16, ptr [[A]], i32 [[MUL]]
; CHECK-NEXT:    [[MUL28:%.*]] = mul nsw i32 [[I_064]], [[K]]
; CHECK-NEXT:    [[TMP2:%.*]] = getelementptr i16, ptr [[C]], i32 [[MUL28]]
; CHECK-NEXT:    br label [[FOR_BODY4:%.*]]
; CHECK:       for.cond.cleanup:
; CHECK-NEXT:    ret i32 0
; CHECK:       for.cond.cleanup3:
; CHECK-NEXT:    [[INC35]] = add nuw nsw i32 [[I_064]], 1
; CHECK-NEXT:    [[EXITCOND66_NOT:%.*]] = icmp eq i32 [[INC35]], [[M]]
; CHECK-NEXT:    br i1 [[EXITCOND66_NOT]], label [[FOR_COND_CLEANUP]], label [[FOR_COND1_PREHEADER]]
; CHECK:       for.body4:
; CHECK-NEXT:    [[J_062:%.*]] = phi i32 [ 0, [[FOR_BODY4_LR_PH]] ], [ [[INC32:%.*]], [[FOR_COND_CLEANUP8:%.*]] ]
; CHECK-NEXT:    [[INVARIANT_GEP:%.*]] = getelementptr i16, ptr [[B]], i32 [[J_062]]
; CHECK-NEXT:    br i1 [[CMP658]], label [[FOR_BODY9_7:%.*]], label [[FOR_COND110_PREHEADER:%.*]]
; CHECK:       for.cond110.preheader:
; CHECK-NEXT:    [[ACC_0_LCSSA1:%.*]] = phi i64 [ [[ADD17_7:%.*]], [[FOR_BODY9_7]] ], [ [[CONV]], [[FOR_BODY4]] ]
; CHECK-NEXT:    [[S_0_LCSSA:%.*]] = phi i32 [ [[TMP0]], [[FOR_BODY9_7]] ], [ 0, [[FOR_BODY4]] ]
; CHECK-NEXT:    [[CMP111262:%.*]] = icmp slt i32 [[S_0_LCSSA]], [[N]]
; CHECK-NEXT:    br i1 [[CMP111262]], label [[FOR_BODY9_CLONE:%.*]], label [[FOR_COND_CLEANUP8]]
; CHECK:       for.body9.7:
; CHECK-NEXT:    [[S_060:%.*]] = phi i32 [ [[INC_7:%.*]], [[FOR_BODY9_7]] ], [ 0, [[FOR_BODY4]] ]
; CHECK-NEXT:    [[ACC_059:%.*]] = phi i64 [ [[ADD17_7]], [[FOR_BODY9_7]] ], [ [[CONV]], [[FOR_BODY4]] ]
; CHECK-NEXT:    [[ARRAYIDX:%.*]] = getelementptr i16, ptr [[TMP1]], i32 [[S_060]]
; CHECK-NEXT:    [[TMP3:%.*]] = load i16, ptr [[ARRAYIDX]], align 2
; CHECK-NEXT:    [[CONV10:%.*]] = sext i16 [[TMP3]] to i32
; CHECK-NEXT:    [[MUL11:%.*]] = mul nsw i32 [[S_060]], [[K]]
; CHECK-NEXT:    [[GEP:%.*]] = getelementptr i16, ptr [[INVARIANT_GEP]], i32 [[MUL11]]
; CHECK-NEXT:    [[TMP4:%.*]] = load i16, ptr [[GEP]], align 2
; CHECK-NEXT:    [[CONV14:%.*]] = sext i16 [[TMP4]] to i32
; CHECK-NEXT:    [[MUL15:%.*]] = mul nsw i32 [[CONV14]], [[CONV10]]
; CHECK-NEXT:    [[CONV16:%.*]] = sext i32 [[MUL15]] to i64
; CHECK-NEXT:    [[ADD17:%.*]] = add nsw i64 [[ACC_059]], [[CONV16]]
; CHECK-NEXT:    [[INC:%.*]] = add nuw nsw i32 [[S_060]], 1
; CHECK-NEXT:    [[EXITCOND_NOT:%.*]] = icmp eq i32 [[INC]], [[N]]
; CHECK-NEXT:    [[ARRAYIDX_1:%.*]] = getelementptr i16, ptr [[TMP1]], i32 [[INC]]
; CHECK-NEXT:    [[TMP5:%.*]] = load i16, ptr [[ARRAYIDX_1]], align 2
; CHECK-NEXT:    [[CONV10_1:%.*]] = sext i16 [[TMP5]] to i32
; CHECK-NEXT:    [[MUL11_1:%.*]] = mul nsw i32 [[INC]], [[K]]
; CHECK-NEXT:    [[GEP_1:%.*]] = getelementptr i16, ptr [[INVARIANT_GEP]], i32 [[MUL11_1]]
; CHECK-NEXT:    [[TMP6:%.*]] = load i16, ptr [[GEP_1]], align 2
; CHECK-NEXT:    [[CONV14_1:%.*]] = sext i16 [[TMP6]] to i32
; CHECK-NEXT:    [[MUL15_1:%.*]] = mul nsw i32 [[CONV14_1]], [[CONV10_1]]
; CHECK-NEXT:    [[CONV16_1:%.*]] = sext i32 [[MUL15_1]] to i64
; CHECK-NEXT:    [[ADD17_1:%.*]] = add nsw i64 [[ADD17]], [[CONV16_1]]
; CHECK-NEXT:    [[INC_1:%.*]] = add nuw nsw i32 [[S_060]], 2
; CHECK-NEXT:    [[EXITCOND_NOT_1:%.*]] = icmp eq i32 [[INC_1]], [[N]]
; CHECK-NEXT:    [[ARRAYIDX_2:%.*]] = getelementptr i16, ptr [[TMP1]], i32 [[INC_1]]
; CHECK-NEXT:    [[TMP7:%.*]] = load i16, ptr [[ARRAYIDX_2]], align 2
; CHECK-NEXT:    [[CONV10_2:%.*]] = sext i16 [[TMP7]] to i32
; CHECK-NEXT:    [[MUL11_2:%.*]] = mul nsw i32 [[INC_1]], [[K]]
; CHECK-NEXT:    [[GEP_2:%.*]] = getelementptr i16, ptr [[INVARIANT_GEP]], i32 [[MUL11_2]]
; CHECK-NEXT:    [[TMP8:%.*]] = load i16, ptr [[GEP_2]], align 2
; CHECK-NEXT:    [[CONV14_2:%.*]] = sext i16 [[TMP8]] to i32
; CHECK-NEXT:    [[MUL15_2:%.*]] = mul nsw i32 [[CONV14_2]], [[CONV10_2]]
; CHECK-NEXT:    [[CONV16_2:%.*]] = sext i32 [[MUL15_2]] to i64
; CHECK-NEXT:    [[ADD17_2:%.*]] = add nsw i64 [[ADD17_1]], [[CONV16_2]]
; CHECK-NEXT:    [[INC_2:%.*]] = add nuw nsw i32 [[S_060]], 3
; CHECK-NEXT:    [[EXITCOND_NOT_2:%.*]] = icmp eq i32 [[INC_2]], [[N]]
; CHECK-NEXT:    [[ARRAYIDX_3:%.*]] = getelementptr i16, ptr [[TMP1]], i32 [[INC_2]]
; CHECK-NEXT:    [[TMP9:%.*]] = load i16, ptr [[ARRAYIDX_3]], align 2
; CHECK-NEXT:    [[CONV10_3:%.*]] = sext i16 [[TMP9]] to i32
; CHECK-NEXT:    [[MUL11_3:%.*]] = mul nsw i32 [[INC_2]], [[K]]
; CHECK-NEXT:    [[GEP_3:%.*]] = getelementptr i16, ptr [[INVARIANT_GEP]], i32 [[MUL11_3]]
; CHECK-NEXT:    [[TMP10:%.*]] = load i16, ptr [[GEP_3]], align 2
; CHECK-NEXT:    [[CONV14_3:%.*]] = sext i16 [[TMP10]] to i32
; CHECK-NEXT:    [[MUL15_3:%.*]] = mul nsw i32 [[CONV14_3]], [[CONV10_3]]
; CHECK-NEXT:    [[CONV16_3:%.*]] = sext i32 [[MUL15_3]] to i64
; CHECK-NEXT:    [[ADD17_3:%.*]] = add nsw i64 [[ADD17_2]], [[CONV16_3]]
; CHECK-NEXT:    [[INC_3:%.*]] = add nuw nsw i32 [[S_060]], 4
; CHECK-NEXT:    [[EXITCOND_NOT_3:%.*]] = icmp eq i32 [[INC_3]], [[N]]
; CHECK-NEXT:    [[ARRAYIDX_4:%.*]] = getelementptr i16, ptr [[TMP1]], i32 [[INC_3]]
; CHECK-NEXT:    [[TMP11:%.*]] = load i16, ptr [[ARRAYIDX_4]], align 2
; CHECK-NEXT:    [[CONV10_4:%.*]] = sext i16 [[TMP11]] to i32
; CHECK-NEXT:    [[MUL11_4:%.*]] = mul nsw i32 [[INC_3]], [[K]]
; CHECK-NEXT:    [[GEP_4:%.*]] = getelementptr i16, ptr [[INVARIANT_GEP]], i32 [[MUL11_4]]
; CHECK-NEXT:    [[TMP12:%.*]] = load i16, ptr [[GEP_4]], align 2
; CHECK-NEXT:    [[CONV14_4:%.*]] = sext i16 [[TMP12]] to i32
; CHECK-NEXT:    [[MUL15_4:%.*]] = mul nsw i32 [[CONV14_4]], [[CONV10_4]]
; CHECK-NEXT:    [[CONV16_4:%.*]] = sext i32 [[MUL15_4]] to i64
; CHECK-NEXT:    [[ADD17_4:%.*]] = add nsw i64 [[ADD17_3]], [[CONV16_4]]
; CHECK-NEXT:    [[INC_4:%.*]] = add nuw nsw i32 [[S_060]], 5
; CHECK-NEXT:    [[EXITCOND_NOT_4:%.*]] = icmp eq i32 [[INC_4]], [[N]]
; CHECK-NEXT:    [[ARRAYIDX_5:%.*]] = getelementptr i16, ptr [[TMP1]], i32 [[INC_4]]
; CHECK-NEXT:    [[TMP13:%.*]] = load i16, ptr [[ARRAYIDX_5]], align 2
; CHECK-NEXT:    [[CONV10_5:%.*]] = sext i16 [[TMP13]] to i32
; CHECK-NEXT:    [[MUL11_5:%.*]] = mul nsw i32 [[INC_4]], [[K]]
; CHECK-NEXT:    [[GEP_5:%.*]] = getelementptr i16, ptr [[INVARIANT_GEP]], i32 [[MUL11_5]]
; CHECK-NEXT:    [[TMP14:%.*]] = load i16, ptr [[GEP_5]], align 2
; CHECK-NEXT:    [[CONV14_5:%.*]] = sext i16 [[TMP14]] to i32
; CHECK-NEXT:    [[MUL15_5:%.*]] = mul nsw i32 [[CONV14_5]], [[CONV10_5]]
; CHECK-NEXT:    [[CONV16_5:%.*]] = sext i32 [[MUL15_5]] to i64
; CHECK-NEXT:    [[ADD17_5:%.*]] = add nsw i64 [[ADD17_4]], [[CONV16_5]]
; CHECK-NEXT:    [[INC_5:%.*]] = add nuw nsw i32 [[S_060]], 6
; CHECK-NEXT:    [[EXITCOND_NOT_5:%.*]] = icmp eq i32 [[INC_5]], [[N]]
; CHECK-NEXT:    [[ARRAYIDX_6:%.*]] = getelementptr i16, ptr [[TMP1]], i32 [[INC_5]]
; CHECK-NEXT:    [[TMP15:%.*]] = load i16, ptr [[ARRAYIDX_6]], align 2
; CHECK-NEXT:    [[CONV10_6:%.*]] = sext i16 [[TMP15]] to i32
; CHECK-NEXT:    [[MUL11_6:%.*]] = mul nsw i32 [[INC_5]], [[K]]
; CHECK-NEXT:    [[GEP_6:%.*]] = getelementptr i16, ptr [[INVARIANT_GEP]], i32 [[MUL11_6]]
; CHECK-NEXT:    [[TMP16:%.*]] = load i16, ptr [[GEP_6]], align 2
; CHECK-NEXT:    [[CONV14_6:%.*]] = sext i16 [[TMP16]] to i32
; CHECK-NEXT:    [[MUL15_6:%.*]] = mul nsw i32 [[CONV14_6]], [[CONV10_6]]
; CHECK-NEXT:    [[CONV16_6:%.*]] = sext i32 [[MUL15_6]] to i64
; CHECK-NEXT:    [[ADD17_6:%.*]] = add nsw i64 [[ADD17_5]], [[CONV16_6]]
; CHECK-NEXT:    [[INC_6:%.*]] = add nuw nsw i32 [[S_060]], 7
; CHECK-NEXT:    [[EXITCOND_NOT_6:%.*]] = icmp eq i32 [[INC_6]], [[N]]
; CHECK-NEXT:    [[ARRAYIDX_7:%.*]] = getelementptr i16, ptr [[TMP1]], i32 [[INC_6]]
; CHECK-NEXT:    [[TMP17:%.*]] = load i16, ptr [[ARRAYIDX_7]], align 2
; CHECK-NEXT:    [[CONV10_7:%.*]] = sext i16 [[TMP17]] to i32
; CHECK-NEXT:    [[MUL11_7:%.*]] = mul nsw i32 [[INC_6]], [[K]]
; CHECK-NEXT:    [[GEP_7:%.*]] = getelementptr i16, ptr [[INVARIANT_GEP]], i32 [[MUL11_7]]
; CHECK-NEXT:    [[TMP18:%.*]] = load i16, ptr [[GEP_7]], align 2
; CHECK-NEXT:    [[CONV14_7:%.*]] = sext i16 [[TMP18]] to i32
; CHECK-NEXT:    [[MUL15_7:%.*]] = mul nsw i32 [[CONV14_7]], [[CONV10_7]]
; CHECK-NEXT:    [[CONV16_7:%.*]] = sext i32 [[MUL15_7]] to i64
; CHECK-NEXT:    [[ADD17_7]] = add nsw i64 [[ADD17_6]], [[CONV16_7]]
; CHECK-NEXT:    [[INC_7]] = add nuw nsw i32 [[S_060]], 8
; CHECK-NEXT:    [[EXITCOND_NOT_7:%.*]] = icmp slt i32 [[INC_7]], [[SUB6]]
; CHECK-NEXT:    br i1 [[EXITCOND_NOT_7]], label [[FOR_BODY9_7]], label [[FOR_COND110_PREHEADER]]
; CHECK:       for.body9.clone:
; CHECK-NEXT:    [[S_060_CLONE:%.*]] = phi i32 [ [[INC_CLONE:%.*]], [[FOR_BODY9_CLONE]] ], [ [[S_0_LCSSA]], [[FOR_COND110_PREHEADER]] ]
; CHECK-NEXT:    [[ACC_059_CLONE:%.*]] = phi i64 [ [[ADD17_CLONE:%.*]], [[FOR_BODY9_CLONE]] ], [ [[ACC_0_LCSSA1]], [[FOR_COND110_PREHEADER]] ]
; CHECK-NEXT:    [[ARRAYIDX_CLONE:%.*]] = getelementptr i16, ptr [[TMP1]], i32 [[S_060_CLONE]]
; CHECK-NEXT:    [[TMP19:%.*]] = load i16, ptr [[ARRAYIDX_CLONE]], align 2
; CHECK-NEXT:    [[CONV10_CLONE:%.*]] = sext i16 [[TMP19]] to i32
; CHECK-NEXT:    [[MUL11_CLONE:%.*]] = mul nsw i32 [[S_060_CLONE]], [[K]]
; CHECK-NEXT:    [[GEP_CLONE:%.*]] = getelementptr i16, ptr [[INVARIANT_GEP]], i32 [[MUL11_CLONE]]
; CHECK-NEXT:    [[TMP20:%.*]] = load i16, ptr [[GEP_CLONE]], align 2
; CHECK-NEXT:    [[CONV14_CLONE:%.*]] = sext i16 [[TMP20]] to i32
; CHECK-NEXT:    [[MUL15_CLONE:%.*]] = mul nsw i32 [[CONV14_CLONE]], [[CONV10_CLONE]]
; CHECK-NEXT:    [[CONV16_CLONE:%.*]] = sext i32 [[MUL15_CLONE]] to i64
; CHECK-NEXT:    [[ADD17_CLONE]] = add nsw i64 [[ACC_059_CLONE]], [[CONV16_CLONE]]
; CHECK-NEXT:    [[INC_CLONE]] = add nuw nsw i32 [[S_060_CLONE]], 1
; CHECK-NEXT:    [[EXITCOND_NOT_CLONE:%.*]] = icmp eq i32 [[INC_CLONE]], [[N]]
; CHECK-NEXT:    br i1 [[EXITCOND_NOT_CLONE]], label [[FOR_COND_CLEANUP8]], label [[FOR_BODY9_CLONE]]
; CHECK:       for.cond.cleanup8:
; CHECK-NEXT:    [[ACC_1_LCSSA:%.*]] = phi i64 [ [[ADD17_CLONE]], [[FOR_BODY9_CLONE]] ], [ [[ACC_0_LCSSA1]], [[FOR_COND110_PREHEADER]] ]
; CHECK-NEXT:    [[ARRAYIDX23:%.*]] = getelementptr i16, ptr [[TMP2]], i32 [[J_062]]
; CHECK-NEXT:    [[SHR26:%.*]] = ashr i64 [[ACC_1_LCSSA]], [[SH_PROM25]]
; CHECK-NEXT:    [[SHL:%.*]] = shl i64 [[ACC_1_LCSSA]], [[SH_PROM]]
; CHECK-NEXT:    [[SHR26_SINK:%.*]] = select i1 [[CMP18]], i64 [[SHL]], i64 [[SHR26]]
; CHECK-NEXT:    [[CONV27:%.*]] = trunc i64 [[SHR26_SINK]] to i16
; CHECK-NEXT:    store i16 [[CONV27]], ptr [[ARRAYIDX23]], align 2
; CHECK-NEXT:    [[INC32]] = add nuw nsw i32 [[J_062]], 1
; CHECK-NEXT:    [[EXITCOND65_NOT:%.*]] = icmp eq i32 [[INC32]], [[K]]
; CHECK-NEXT:    br i1 [[EXITCOND65_NOT]], label [[FOR_COND_CLEANUP3]], label [[FOR_BODY4]]
;
entry:
  %cmp63 = icmp sgt i32 %m, 0
  br i1 %cmp63, label %for.cond1.preheader.lr.ph, label %for.cond.cleanup

for.cond1.preheader.lr.ph:                        ; preds = %entry
  %sub = add nsw i32 %shift, -15
  %cmp261 = icmp sgt i32 %k, 0
  %shr = lshr i32 32767, %shift
  %conv = zext nneg i32 %shr to i64
  %cmp658 = icmp sgt i32 %n, 0
  %cmp18 = icmp sgt i32 %shift, 15
  %sub24 = sub nsw i32 15, %shift
  %sh_prom25 = zext nneg i32 %sub24 to i64
  %sh_prom = zext nneg i32 %sub to i64
  br label %for.cond1.preheader

for.cond1.preheader:                              ; preds = %for.cond.cleanup3, %for.cond1.preheader.lr.ph
  %i.064 = phi i32 [ 0, %for.cond1.preheader.lr.ph ], [ %inc35, %for.cond.cleanup3 ]
  br i1 %cmp261, label %for.body4.lr.ph, label %for.cond.cleanup3

for.body4.lr.ph:                                  ; preds = %for.cond1.preheader
  %mul = mul nsw i32 %i.064, %n
  %0 = getelementptr i16, ptr %A, i32 %mul
  %mul28 = mul nsw i32 %i.064, %k
  %1 = getelementptr i16, ptr %C, i32 %mul28
  br label %for.body4

for.cond.cleanup:                                 ; preds = %for.cond.cleanup3, %entry
  ret i32 0

for.cond.cleanup3:                                ; preds = %for.cond.cleanup8, %for.cond1.preheader
  %inc35 = add nuw nsw i32 %i.064, 1
  %exitcond66.not = icmp eq i32 %inc35, %m
  br i1 %exitcond66.not, label %for.cond.cleanup, label %for.cond1.preheader

for.body4:                                        ; preds = %for.cond.cleanup8, %for.body4.lr.ph
  %j.062 = phi i32 [ 0, %for.body4.lr.ph ], [ %inc32, %for.cond.cleanup8 ]
  %invariant.gep = getelementptr i16, ptr %B, i32 %j.062
  br i1 %cmp658, label %for.body9, label %for.cond.cleanup8

for.cond.cleanup8:                                ; preds = %for.body9, %for.body4
  %acc.0.lcssa = phi i64 [ %conv, %for.body4 ], [ %add17, %for.body9 ]
  %arrayidx23 = getelementptr i16, ptr %1, i32 %j.062
  %shr26 = ashr i64 %acc.0.lcssa, %sh_prom25
  %shl = shl i64 %acc.0.lcssa, %sh_prom
  %shr26.sink = select i1 %cmp18, i64 %shl, i64 %shr26
  %conv27 = trunc i64 %shr26.sink to i16
  store i16 %conv27, ptr %arrayidx23, align 2
  %inc32 = add nuw nsw i32 %j.062, 1
  %exitcond65.not = icmp eq i32 %inc32, %k
  br i1 %exitcond65.not, label %for.cond.cleanup3, label %for.body4

for.body9:                                        ; preds = %for.body9, %for.body4
  %s.060 = phi i32 [ %inc, %for.body9 ], [ 0, %for.body4 ]
  %acc.059 = phi i64 [ %add17, %for.body9 ], [ %conv, %for.body4 ]
  %arrayidx = getelementptr i16, ptr %0, i32 %s.060
  %2 = load i16, ptr %arrayidx, align 2
  %conv10 = sext i16 %2 to i32
  %mul11 = mul nsw i32 %s.060, %k
  %gep = getelementptr i16, ptr %invariant.gep, i32 %mul11
  %3 = load i16, ptr %gep, align 2
  %conv14 = sext i16 %3 to i32
  %mul15 = mul nsw i32 %conv14, %conv10
  %conv16 = sext i32 %mul15 to i64
  %add17 = add nsw i64 %acc.059, %conv16
  %inc = add nuw nsw i32 %s.060, 1
  %exitcond.not = icmp eq i32 %inc, %n
  br i1 %exitcond.not, label %for.cond.cleanup8, label %for.body9
}
